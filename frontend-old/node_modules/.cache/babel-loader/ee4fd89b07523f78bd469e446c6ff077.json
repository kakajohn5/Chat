{"ast":null,"code":"import { FRIEND_GET_SUCCESS, MESSAGE_GET_SUCCESS, MESSAGE_SEND_SUCCESS, SOCKET_MESSAGE, UPDATE_FRIEND_MESSAGE, MESSAGE_SEND_SUCCESS_CLEAR, SEEN_MESSAGE, DELIVARED_MESSAGE, UPDATE, MESSAGE_GET_SUCCESS_CLEAR, SEEN_ALL } from \"../types/messengerType\";\nconst messengerState = {\n  friends: [],\n  message: [],\n  mesageSendSuccess: false,\n  message_get_success: false,\n  themeMood: '',\n  new_user_add: ''\n};\nexport const messengerReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : messengerState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    type,\n    payload\n  } = action;\n\n  if (type === 'THEME_GET_SUCCESS' || type === 'THEME_SET_SUCCESS') {\n    return { ...state,\n      themeMood: payload.theme\n    };\n  }\n\n  if (type === FRIEND_GET_SUCCESS) {\n    return { ...state,\n      friends: payload.friends\n    };\n  }\n\n  if (type === MESSAGE_GET_SUCCESS) {\n    return { ...state,\n      message_get_success: true,\n      message: payload.message\n    };\n  }\n\n  if (type === MESSAGE_SEND_SUCCESS) {\n    return { ...state,\n      mesageSendSuccess: true,\n      message: [...state.message, payload.message]\n    };\n  }\n\n  if (type === SOCKET_MESSAGE) {\n    return { ...state,\n      message: [...state.message, payload.message]\n    };\n  }\n\n  if (type === UPDATE_FRIEND_MESSAGE) {\n    const index = state.friends.findIndex(f => f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\n    state.friends[index].msgInfo = payload.msgInfo;\n    state.friends[index].msgInfo.status = payload.status;\n    return state;\n  }\n\n  if (type === MESSAGE_SEND_SUCCESS_CLEAR) {\n    return { ...state,\n      mesageSendSuccess: false\n    };\n  }\n\n  if (type === SEEN_MESSAGE) {\n    const index = state.friends.findIndex(f => f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\n    state.friends[index].msgInfo.status = 'seen';\n    return { ...state\n    };\n  }\n\n  if (type === DELIVARED_MESSAGE) {\n    const index = state.friends.findIndex(f => f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\n    state.friends[index].msgInfo.status = 'delivared';\n    return { ...state\n    };\n  }\n\n  if (type === UPDATE) {\n    const index = state.friends.findIndex(f => f.fndInfo._id === payload.id);\n\n    if (state.friends[index].msgInfo) {\n      state.friends[index].msgInfo.status = 'seen';\n    }\n\n    return { ...state\n    };\n  }\n\n  if (type === MESSAGE_GET_SUCCESS_CLEAR) {\n    return { ...state,\n      message_get_success: false\n    };\n  }\n\n  if (type === 'SEEN_ALL') {\n    const index = state.friends.findIndex(f => f.fndInfo._id === payload.reseverId);\n    state.friends[index].msgInfo.status = 'seen';\n    return { ...state\n    };\n  }\n\n  if (type === 'LOGOUT_SUCCESS') {\n    return { ...state,\n      friends: [],\n      message: [],\n      mesageSendSuccess: false,\n      message_get_success: false\n    };\n  }\n\n  if (type === 'NEW_USER_ADD') {\n    return { ...state,\n      new_user_add: payload.new_user_add\n    };\n  }\n\n  if (type === 'NEW_USER_ADD_CLEAR') {\n    return { ...state,\n      new_user_add: ''\n    };\n  }\n\n  return state;\n};","map":{"version":3,"sources":["C:/Users/gameo/Chat/frontend-old/src/store/reducers/messengerReducer.js"],"names":["FRIEND_GET_SUCCESS","MESSAGE_GET_SUCCESS","MESSAGE_SEND_SUCCESS","SOCKET_MESSAGE","UPDATE_FRIEND_MESSAGE","MESSAGE_SEND_SUCCESS_CLEAR","SEEN_MESSAGE","DELIVARED_MESSAGE","UPDATE","MESSAGE_GET_SUCCESS_CLEAR","SEEN_ALL","messengerState","friends","message","mesageSendSuccess","message_get_success","themeMood","new_user_add","messengerReducer","state","action","type","payload","theme","index","findIndex","f","fndInfo","_id","msgInfo","reseverId","senderId","status","id"],"mappings":"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","sourcesContent":["import {FRIEND_GET_SUCCESS,MESSAGE_GET_SUCCESS,MESSAGE_SEND_SUCCESS,SOCKET_MESSAGE,UPDATE_FRIEND_MESSAGE,MESSAGE_SEND_SUCCESS_CLEAR,SEEN_MESSAGE,DELIVARED_MESSAGE,UPDATE,MESSAGE_GET_SUCCESS_CLEAR,SEEN_ALL} from \"../types/messengerType\";\r\n\r\nconst messengerState = {\r\n     friends : [],\r\n     message : [],\r\n     mesageSendSuccess : false,\r\n     message_get_success : false,\r\n     themeMood : '',\r\n     new_user_add : ''\r\n}\r\n\r\nexport const messengerReducer = (state=messengerState,action) => {\r\n     const {type,payload} = action;\r\n\r\n\r\n     if(type === 'THEME_GET_SUCCESS' || type === 'THEME_SET_SUCCESS'){\r\n          return {\r\n               ...state,\r\n               themeMood : payload.theme\r\n          }\r\n     }\r\n\r\n\r\n\r\n\r\n\r\n     if(type === FRIEND_GET_SUCCESS){\r\n          return {\r\n               ...state,\r\n               friends : payload.friends\r\n          }\r\n     }\r\n\r\n     if(type === MESSAGE_GET_SUCCESS){\r\n          return {\r\n               ...state,\r\n               message_get_success : true,\r\n               message : payload.message\r\n          }\r\n     }\r\n\r\n     if(type === MESSAGE_SEND_SUCCESS){\r\n          return {\r\n               ...state,\r\n               mesageSendSuccess : true,\r\n               message : [...state.message,payload.message]\r\n          }\r\n     }\r\n\r\n     if(type === SOCKET_MESSAGE){\r\n          return {\r\n               ...state,\r\n               message : [...state.message,payload.message]\r\n          }\r\n     }\r\n\r\n     if(type === UPDATE_FRIEND_MESSAGE){\r\n          const index = state.friends.findIndex(f=>f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\r\n          state.friends[index].msgInfo = payload.msgInfo;\r\n          state.friends[index].msgInfo.status = payload.status;\r\n          return state;\r\n     }\r\n\r\n\r\n     \r\n     if(type === MESSAGE_SEND_SUCCESS_CLEAR){\r\n          return {\r\n               ...state,\r\n               mesageSendSuccess : false               \r\n          }\r\n     }\r\n\r\n\r\n     if(type === SEEN_MESSAGE){\r\n          const index = state.friends.findIndex(f=>f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\r\n          state.friends[index].msgInfo.status = 'seen';\r\n         return {\r\n              ...state\r\n         };\r\n     }\r\n\r\n     if(type === DELIVARED_MESSAGE){\r\n          const index = state.friends.findIndex(f=>f.fndInfo._id === payload.msgInfo.reseverId || f.fndInfo._id === payload.msgInfo.senderId);\r\n          state.friends[index].msgInfo.status = 'delivared';\r\n         return {\r\n              ...state\r\n         };\r\n     }\r\n\r\n\r\n     if(type === UPDATE){\r\n          const index = state.friends.findIndex(f=>f.fndInfo._id === payload.id);\r\n          if(state.friends[index].msgInfo){\r\n               state.friends[index].msgInfo.status = 'seen';\r\n          }\r\n          return {\r\n               ...state\r\n          }\r\n     }\r\n\r\n     if(type === MESSAGE_GET_SUCCESS_CLEAR){\r\n          return {\r\n               ...state,\r\n               message_get_success : false\r\n          }\r\n     }\r\n\r\n     if(type === 'SEEN_ALL'){\r\n          const index = state.friends.findIndex(f=>f.fndInfo._id === payload.reseverId);\r\n          state.friends[index].msgInfo.status = 'seen';\r\n          return {\r\n               ...state\r\n          }\r\n     }\r\n\r\n     if(type === 'LOGOUT_SUCCESS'){\r\n          return {\r\n               ...state,\r\n               friends : [],\r\n               message : [],\r\n               mesageSendSuccess : false,\r\n               message_get_success : false,\r\n              \r\n          }\r\n     }\r\n\r\n     if(type === 'NEW_USER_ADD'){\r\n          return{\r\n               ...state,\r\n               new_user_add : payload.new_user_add\r\n          }\r\n     }\r\n\r\n     if(type === 'NEW_USER_ADD_CLEAR'){\r\n          return{\r\n               ...state,\r\n               new_user_add : ''\r\n          }\r\n     }\r\n \r\n\r\n\r\n     return state;\r\n}"]},"metadata":{},"sourceType":"module"}